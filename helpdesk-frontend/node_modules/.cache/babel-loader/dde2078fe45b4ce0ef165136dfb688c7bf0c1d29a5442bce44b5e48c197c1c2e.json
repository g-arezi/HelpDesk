{"ast":null,"code":"var _jsxFileName = \"E:\\\\Helpdesk\\\\HelpDesk\\\\helpdesk-frontend\\\\src\\\\components\\\\LoginForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginForm = ({\n  onSuccess,\n  onError\n}) => {\n  _s();\n  const [login, setLogin] = useState('');\n  const [senha, setSenha] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const res = await fetch(`${process.env.REACT_APP_API_URL}/login.php`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: new URLSearchParams({\n          login,\n          senha\n        }).toString(),\n        credentials: 'include'\n      });\n      const text = await res.text();\n      if (res.ok && !text.includes('Login ou senha inválidos')) {\n        if (onSuccess) onSuccess(login);\n      } else {\n        setError('Login ou senha inválidos!');\n        if (onError) onError('Login ou senha inválidos!');\n      }\n    } catch {\n      setError('Erro de conexão.');\n      if (onError) onError('Erro de conexão.');\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      margin: 24,\n      background: '#fff',\n      padding: 24,\n      borderRadius: 8,\n      boxShadow: '0 1px 4px #e0e0e0'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: login,\n      onChange: e => setLogin(e.target.value),\n      placeholder: \"Usu\\xE1rio\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: senha,\n      onChange: e => setSenha(e.target.value),\n      placeholder: \"Senha\",\n      type: \"password\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      disabled: loading,\n      children: loading ? 'Entrando...' : 'Entrar'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red',\n        marginTop: 8\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginForm, \"eu/FHOk15y1r4e0592dSQ9wFISo=\");\n_c = LoginForm;\nexport default LoginForm;\nvar _c;\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","LoginForm","onSuccess","onError","_s","login","setLogin","senha","setSenha","error","setError","loading","setLoading","handleSubmit","e","preventDefault","res","fetch","process","env","REACT_APP_API_URL","method","headers","body","URLSearchParams","toString","credentials","text","ok","includes","onSubmit","style","margin","background","padding","borderRadius","boxShadow","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","placeholder","required","type","disabled","color","marginTop","_c","$RefreshReg$"],"sources":["E:/Helpdesk/HelpDesk/helpdesk-frontend/src/components/LoginForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\ninterface LoginFormProps {\r\n    onSuccess?: (user?: string) => void;\r\n    onError?: (error: string) => void;\r\n}\r\n\r\nconst LoginForm: React.FC<LoginFormProps> = ({ onSuccess, onError }) => {\r\n    const [login, setLogin] = useState('');\r\n    const [senha, setSenha] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_API_URL}/login.php`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                body: new URLSearchParams({ login, senha }).toString(),\r\n                credentials: 'include',\r\n            });\r\n            const text = await res.text();\r\n            if (res.ok && !text.includes('Login ou senha inválidos')) {\r\n                if (onSuccess) onSuccess(login);\r\n            } else {\r\n                setError('Login ou senha inválidos!');\r\n                if (onError) onError('Login ou senha inválidos!');\r\n            }\r\n        } catch {\r\n            setError('Erro de conexão.');\r\n            if (onError) onError('Erro de conexão.');\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} style={{ margin: 24, background: '#fff', padding: 24, borderRadius: 8, boxShadow: '0 1px 4px #e0e0e0' }}>\r\n            <h2>Login</h2>\r\n            <input value={login} onChange={e => setLogin(e.target.value)} placeholder=\"Usuário\" required />\r\n            <input value={senha} onChange={e => setSenha(e.target.value)} placeholder=\"Senha\" type=\"password\" required />\r\n            <button type=\"submit\" disabled={loading}>{loading ? 'Entrando...' : 'Entrar'}</button>\r\n            {error && <div style={{ color: 'red', marginTop: 8 }}>{error}</div>}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}